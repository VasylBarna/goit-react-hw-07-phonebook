{"version":3,"sources":["components/ContactForm/ContactForm.module.scss","components/ContactsList/ContactsList.module.scss","App.module.scss","components/Container/Container.module.scss","components/Filter/Filter.module.scss","redux/Phonebook/phonebook-operation.js","redux/Phonebook/phonebook-types.js","redux/Phonebook/phonebook-reducer.js","redux/store.js","components/Container/Container.js","components/ContactForm/ContactForm.js","redux/Phonebook/phonebook-actions.js","components/Filter/Filter.js","redux/Phonebook/phonebook-selectors.js","components/ContactsList/ContactsList.js","App.js","index.js"],"names":["module","exports","contactApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","fetchContacts","query","providesTags","addContact","mutation","name","number","url","method","body","invalidatesTags","deleteContact","id","useFetchContactsQuery","useAddContactMutation","useDeleteContactMutation","filter","createReducer","types","_","action","payload","store","configureStore","reducer","middleware","getDefaultMiddleware","setupListeners","dispatch","Container","children","className","styles","container","ContactForm","useState","setName","phone","setPhone","isLoading","contacts","data","handleInputChange","event","currentTarget","value","reset","form","onSubmit","e","preventDefault","nameOptions","find","contact","toLowerCase","alert","type","pattern","title","onChange","required","btn","color","height","width","timeout","handleFilter","createAction","Filter","useDispatch","target","ContactsList","friends","useSelector","state","normalizedFilter","includes","getContacts","list","map","createdAt","onClick","App","subtitle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c5533106.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__11ny5\",\"btn\":\"ContactForm_btn__quVG9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactsList_list__319Xg\",\"btn\":\"ContactsList_btn__3UEVe\",\"date\":\"ContactsList_date__3xBH_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"App_title__2XBc-\",\"subtitle\":\"App_subtitle__3STAd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2D-xJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"find\":\"Filter_find__2Kfxj\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\nexport const contactApi = createApi({\n  reducerPath: 'contactApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://61714b49c20f3a001705fbe1.mockapi.io',\n  }),\n\n  tagTypes: ['Contact'],\n  endpoints: builder => ({\n    fetchContacts: builder.query({\n      query: () => '/contacts',\n      providesTags: ['Contact'],\n    }),\n\n    addContact: builder.mutation({\n      query: (name, number) => ({\n        url: '/contacts',\n        method: 'POST',\n        body: name,\n        number,\n      }),\n      invalidatesTags: ['Contact'],\n    }),\n\n    deleteContact: builder.mutation({\n      query: id => ({\n        url: `/contacts/${id}`,\n        method: 'DELETE',\n        body: id,\n      }),\n      invalidatesTags: ['Contact'],\n    }),\n  }),\n});\n\nexport const {\n  useFetchContactsQuery,\n  useAddContactMutation,\n  useDeleteContactMutation,\n} = contactApi;\n","// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  ADD: 'contacts/add',\n  DELETE: 'contacts/delete',\n  FILTER: 'filter',\n};\n","import { createReducer } from '@reduxjs/toolkit';\nimport types from './phonebook-types';\n\nexport const filter = createReducer('', {\n  [types.FILTER]: (_, action) => action.payload,\n});\n","import { configureStore } from '@reduxjs/toolkit';\nimport { setupListeners } from '@reduxjs/toolkit/dist/query';\nimport { contactApi } from './Phonebook/phonebook-operation';\nimport { filter } from './Phonebook/phonebook-reducer';\n\nconst store = configureStore({\n  reducer: {\n    [contactApi.reducerPath]: contactApi.reducer,\n    filter,\n  },\n\n  middleware: getDefaultMiddleware => [\n    ...getDefaultMiddleware(),\n    contactApi.middleware,\n  ],\n});\n\nsetupListeners(store.dispatch);\n\nexport default store;\n","import styles from './Container.module.scss';\nimport PropTypes from 'prop-types';\n\nconst Container = ({ children }) => {\n  return <div className={styles.container}>{children}</div>;\n};\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import { useState } from 'react';\nimport {\n  useFetchContactsQuery,\n  useAddContactMutation,\n} from '../../redux/Phonebook/phonebook-operation';\nimport styles from './ContactForm.module.scss';\nimport Loader from 'react-loader-spinner';\n\nexport default function ContactForm() {\n  const [name, setName] = useState('');\n  const [phone, setPhone] = useState('');\n  const [addContact, { isLoading }] = useAddContactMutation();\n  const { data: contacts } = useFetchContactsQuery();\n\n  const handleInputChange = event => {\n    const { name, value } = event.currentTarget;\n\n    switch (name) {\n      case 'name':\n        setName(value);\n        break;\n\n      case 'phone':\n        setPhone(value);\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const nameOptions = { name, phone };\n\n    if (\n      contacts.find(\n        contact => name.toLowerCase() === contact.name.toLowerCase(),\n      )\n    ) {\n      alert(name + ' is already in contacts');\n    } else {\n      addContact(nameOptions);\n    }\n    reset();\n  };\n\n  const reset = () => {\n    setName('');\n    setPhone('');\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <label>\n        Name\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n          onChange={handleInputChange}\n          required\n        />\n      </label>\n      <label>\n        Phone number\n        <input\n          type=\"tel\"\n          name=\"phone\"\n          value={phone}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n          onChange={handleInputChange}\n          required\n        />\n      </label>\n\n      <button className={styles.btn} type=\"submit\">\n        Add contact\n      </button>\n      {isLoading && (\n        <Loader\n          type=\"Hearts\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={1000}\n        />\n      )}\n    </form>\n  );\n}\n","import { createAction } from '@reduxjs/toolkit';\nimport types from './phonebook-types';\n\nexport const handleFilter = createAction(types.FILTER);\n","import { useDispatch } from 'react-redux';\nimport { handleFilter } from '../../redux/Phonebook/phonebook-actions';\nimport styles from './Filter.module.scss';\n\nexport default function Filter() {\n  const dispatch = useDispatch();\n\n  return (\n    <label className={styles.find}>\n      Find contacts by name\n      <input\n        type=\"text\"\n        onChange={event => dispatch(handleFilter(event.target.value))}\n      />\n    </label>\n  );\n}\n","export const getContacts = (data, state) => {\n  const getFilter = state.filter;\n  const normalizedFilter = getFilter.toLowerCase();\n\n  return data\n    ? data.filter(contact =>\n        contact.name.toLowerCase().includes(normalizedFilter),\n      )\n    : [];\n};\n","import { useSelector } from 'react-redux';\nimport { getContacts } from '../../redux/Phonebook/phonebook-selectors';\nimport {\n  useFetchContactsQuery,\n  useDeleteContactMutation,\n} from '../../redux/Phonebook/phonebook-operation';\nimport PropTypes from 'prop-types';\nimport styles from './ContactsList.module.scss';\n\nexport default function ContactsList() {\n  const { data } = useFetchContactsQuery();\n  const friends = useSelector(state => getContacts(data, state));\n  const [deleteContact] = useDeleteContactMutation();\n\n  return (\n    <ul className={styles.list}>\n      {friends &&\n        friends.map(({ id, name, phone, createdAt }) => (\n          <li key={id}>\n            {name}: {phone}\n            <br />\n            {createdAt}\n            <button\n              className={styles.btn}\n              type=\"button\"\n              onClick={() => deleteContact(id)}\n            >\n              Delete\n            </button>\n          </li>\n        ))}\n    </ul>\n  );\n}\n\nContactsList.propTypes = {\n  friends: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.func,\n      name: PropTypes.string.isRequired,\n      phone: PropTypes.number.isRequired,\n    }),\n  ),\n};\n","import Container from './components/Container';\nimport ContactForm from './components/ContactForm';\nimport Filter from './components/Filter/Filter';\nimport ContactsList from './components/ContactsList';\nimport styles from './App.module.scss';\n\nexport default function App() {\n  return (\n    <Container>\n      <h1 className={styles.title}>Phonebook</h1>\n      <ContactForm />\n      <h2 className={styles.subtitle}>Contacts</h2>\n      <Filter />\n      <ContactsList />\n    </Container>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}